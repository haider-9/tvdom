<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap"
            rel="stylesheet"
        />

        <!-- Theme initialization script - prevents flash -->
        <script>
            (function () {
                try {
                    var theme =
                        localStorage.getItem("tvdom-theme") || "bubblegum";
                    var html = document.documentElement;

                    // Remove existing classes
                    html.classList.remove("dark", "theme-bubblegum");

                    // Apply theme
                    if (theme === "dark") {
                        html.classList.add("dark");
                        html.setAttribute("data-theme", "dark");
                    } else if (theme === "bubblegum") {
                        html.classList.add("theme-bubblegum");
                        html.setAttribute("data-theme", "bubblegum");
                    } else {
                        html.setAttribute("data-theme", "light");
                    }

                    console.log("Theme loaded:", theme);
                } catch (e) {
                    // Fallback to bubblegum
                    document.documentElement.classList.add("theme-bubblegum");
                    document.documentElement.setAttribute(
                        "data-theme",
                        "bubblegum",
                    );
                }
            })();
        </script>

        %sveltekit.head%
    </head>

    <body data-sveltekit-preload-data="hover">
        <div style="display: contents; font-family: &quot;Fira Code&quot;">
            %sveltekit.body%
        </div>
    </body>
</html>
